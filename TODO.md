# TODOs - keep this clean

- Support 3D (2025-07-02)
- [x] Eliminate `any` types (Type Safety) (SUGGESTIONS.md) (2025-07-06)
- [x] Standardize graphics API patterns (Code Organization) (SUGGESTIONS.md) (2025-07-06)
- Add comprehensive error handling (Robustness) (SUGGESTIONS.md) (2025-07-06)
- [x] The lerp function found in demo/bst will be used commonly. We could have 1D, 2D, and 3D forms of it to support scalar ranges and also 2D point/vector and 3D point/vector variants. (2025-07-06)
- [x] Augment the BST demo to include (a) data structure code to delete nodes by data value, (b) the ability to click on a node to select it, (c) the ability to delete the selected node. Be sure to keep the data structure code separate from the interaction and visualization. (2025-07-06)
- [x] Implement comprehensive hit testing system for click detection and future collision detection. Support AABB pre-filtering with precise hit testing for all drawing primitives. Integrate at layer and surface level with proper z-order handling. (2025-07-06)
- [x] Support band-select in BST demo. The user should be able to drag in the canvas to form a rectangular selection. This should cause all nodes that intersect with the band-selected region to become selected. The user can then delete all those selected. For the BST mass-delete, you can simply delete each individual node. Be sure to control the "Delete" button state - it should be disabled if there are no selected nodes. Nodes that are deleted also should always become unselected. (2025-07-06)
- [x] The BST demo is really good by this point. The layout algorithm does need some attention though. If the tree has more than three full layers, the nodes start getting positioned off-screen. Of course it is possible to add too many nodes for one canvas to accommodate. But the problem here is that the layout algorithm doesn't compact the nodes well enough. The canvas is 800px wide, which should accommodate 16 nodes at 50px width. With nodes of only a few digits I think this should be supported. Propose a bottom-up layout algorithm that places nodes as compactly as possible, then relaxes their spacing to a comfortable gap spacing when possible. (2025-07-06)
- [x] Bug: BST demo layout algorithm breaks when deleting nodes.
- [x] Bug: BST demo layout does not maintain child/parent offsets. E.g. starting from a blank tree, insert 50, 25, 35, 11. The 25 is directly under the 50, but it should be to the 50's left.
- [x] Bug: BST demo layout seems to apply partial layout. Start with the 50, 25, 35, 11 tree (which exhibits its own bug), then add 75. The 75 is visually to the _left_ of the 35.
- For AI-agent based refactors, it would be nice to have a deterministic CLI tool for obvious operations like 'rename this symbol from X to Y', or 'move this symbol to another file'. These are actions that are typical for human-driven development in an IDE, but LLMs do not take advantage of those same tools because they lack access. So we just need to leverage one of the many available tools to bridge that gap. (2025-07-04)
